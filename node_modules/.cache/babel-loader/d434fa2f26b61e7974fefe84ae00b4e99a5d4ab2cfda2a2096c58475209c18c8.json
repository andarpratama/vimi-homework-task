{"ast":null,"code":"import _slicedToArray from\"/home/andarpratama/Desktop/vimi-homework-task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import videoProjectServices from\"../services/VideoProjectService\";import BootstrapTable from'react-bootstrap-table-next';import paginationFactory from\"react-bootstrap-table2-paginator\";import{columns}from\"../utils/videoProjectTable\";import{AiOutlineSearch}from\"react-icons/ai\";import{liveSearch}from\"../utils/search\";import{Loader}from\"./Loader\";import{FiX}from\"react-icons/fi\";import'./MyTable.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyTable=function MyTable(){var _useState=useState(new Array()),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),keyword=_useState4[0],setKeyword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isCloseInput=_useState8[0],setIsCloseInput=_useState8[1];var handleSearch=function handleSearch(){setIsLoading(true);var result=liveSearch(keyword);setData(result);setTimeout(function(){setIsLoading(false);},1000);};var options={onPageChange:function onPageChange(){setIsLoading(true);setTimeout(function(){setIsLoading(false);},500);},sizePerPage:5,firstPageText:'First',prePageText:'Back',nextPageText:'Next',lastPageText:'Last'};var handleCloseInput=function handleCloseInput(){setIsLoading(true);setKeyword(\"\");setIsCloseInput(false);setData(videoProjectServices.getAllDateFormated());setTimeout(function(){setIsLoading(false);},1000);};useEffect(function(){setKeyword('');setIsCloseInput(false);setData(videoProjectServices.getAllDateFormated());},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container bg-white rounded p-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-5\",children:\"Hi, i'am Andar\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3 position-relative\",children:[isCloseInput?/*#__PURE__*/_jsx(FiX,{className:\"close-input\",onClick:handleCloseInput}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search\",\"aria-label\":\"Username\",\"aria-describedby\":\"basic-addon1\",value:keyword,onChange:function onChange(e){setKeyword(e.target.value);if(e.target.value!==''){setIsCloseInput(true);}else{setIsCloseInput(false);}}}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",id:\"basic-addon1\",onClick:handleSearch,children:/*#__PURE__*/_jsx(AiOutlineSearch,{})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[isLoading?/*#__PURE__*/_jsx(Loader,{}):null,/*#__PURE__*/_jsx(BootstrapTable,{bootstrap4:true,keyField:\"id\",data:data,columns:columns,pagination:paginationFactory(options)})]})]});};export default MyTable;","map":{"version":3,"names":["useState","useEffect","videoProjectServices","BootstrapTable","paginationFactory","columns","AiOutlineSearch","liveSearch","Loader","FiX","MyTable","Array","data","setData","keyword","setKeyword","isLoading","setIsLoading","isCloseInput","setIsCloseInput","handleSearch","result","setTimeout","options","onPageChange","sizePerPage","firstPageText","prePageText","nextPageText","lastPageText","handleCloseInput","getAllDateFormated","e","target","value"],"sources":["/home/andarpratama/Desktop/vimi-homework-task/src/components/MyTable.tsx"],"sourcesContent":["import { ReactElement, useState, useEffect } from \"react\"\nimport videoProjectServices from \"../services/VideoProjectService\"\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport { columns } from \"../utils/videoProjectTable\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport { liveSearch } from \"../utils/search\";\nimport { Loader } from \"./Loader\";\nimport { FiX } from \"react-icons/fi\";\nimport { IData } from '../interfaces/IData'\nimport './MyTable.css'\n\nconst MyTable = ():ReactElement => {\n    const [data, setData] = useState(new Array<IData>)\n    const [keyword, setKeyword] = useState('')\n    const [isLoading, setIsLoading] = useState(false)\n    const [isCloseInput, setIsCloseInput] = useState(false)\n\n    const handleSearch = () => {\n        setIsLoading(true)\n        const result = liveSearch(keyword)\n        setData(result)\n        setTimeout(()=> {\n            setIsLoading(false)\n        }, 1000)\n    }\n\n    const options = {\n        onPageChange: () => {\n            setIsLoading(true)\n            setTimeout(()=> {\n                setIsLoading(false)\n            }, 500)\n        },\n        sizePerPage: 5,\n        firstPageText: 'First',\n        prePageText: 'Back',\n        nextPageText: 'Next',\n        lastPageText: 'Last',\n    };\n\n    const handleCloseInput = () => {\n        setIsLoading(true)\n        setKeyword(\"\")\n        setIsCloseInput(false)\n        setData(videoProjectServices.getAllDateFormated())\n        setTimeout(()=> {\n            setIsLoading(false)\n        }, 1000)\n    }\n\n    useEffect(()=> {\n        setKeyword('')\n        setIsCloseInput(false)\n        setData(videoProjectServices.getAllDateFormated())\n    }, [])\n\n    return(\n        <div className=\"container bg-white rounded p-4\" >\n            <h1 className=\"mb-5\" >Hi, i'am Andar</h1>\n            <div className=\"input-group mb-3 position-relative\">\n                {isCloseInput ? <FiX className=\"close-input\" onClick={handleCloseInput} /> : null}\n                <input type=\"text\" \n                    className=\"form-control\" \n                    placeholder=\"Search\" aria-label=\"Username\" \n                    aria-describedby=\"basic-addon1\"\n                    value={keyword} \n                    onChange={(e)=> {\n                        setKeyword(e.target.value)\n                        if(e.target.value !== ''){\n                            setIsCloseInput(true)\n                        } else {\n                            setIsCloseInput(false)\n                        }\n                    }}\n                />\n                <div className=\"input-group-prepend\">\n                    <button className=\"btn btn-primary\" \n                        id=\"basic-addon1\"\n                        onClick={handleSearch}\n                    >\n                        <AiOutlineSearch/>\n                    </button>\n                </div>\n            </div>\n\n            <div className=\"position-relative\" >\n                { isLoading ? <Loader /> : null }\n                <BootstrapTable\n                    bootstrap4\n                    keyField=\"id\"\n                    data={data}\n                    columns={columns}\n                    pagination={paginationFactory(options)}\n                />\n            </div>\n        </div>\n    )\n}\n\nexport default MyTable"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}